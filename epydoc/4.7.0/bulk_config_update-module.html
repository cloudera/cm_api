<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>bulk_config_update</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            >python-cm_api</th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        Module&nbsp;bulk_config_update
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="bulk_config_update-module.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== MODULE DESCRIPTION ==================== -->
<h1 class="epydoc">Module bulk_config_update</h1><p class="nomargin-top"><span class="codelink"><a href="bulk_config_update-pysrc.html">source&nbsp;code</a></span></p>
<pre class="literalblock">

Given a list of hostnames, update the config of all the DataNodes,
TaskTrackers and RegionServers on those hosts. The configuration for
the various role types is hardcoded in the code.

Usage: %s [options]

Options:
  -f &lt;hostname_file&gt;        Path to a file containing the set of hostnames
                            to update configuration for. The hostnames
                            should be listed in the file one per line.
                            If not specified, the program will use the
                            constant defined in the code.

</pre>

<!-- ==================== FUNCTIONS ==================== -->
<a name="section-Functions"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Functions</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Functions"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="do_bulk_config_update"></a><span class="summary-sig-name">do_bulk_config_update</span>(<span class="summary-sig-arg">hostnames</span>)</span><br />
      Given a list of hostnames, update the configs of all the datanodes, 
      tasktrackers and regionservers on those hosts.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="bulk_config_update-pysrc.html#do_bulk_config_update">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="collect_hosts"></a><span class="summary-sig-name">collect_hosts</span>(<span class="summary-sig-arg">api</span>,
        <span class="summary-sig-arg">wanted_hostnames</span>)</span><br />
      Return a list of ApiHost objects for the set of hosts that we want to
      change config for.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="bulk_config_update-pysrc.html#collect_hosts">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="configure_roles_on_host"></a><span class="summary-sig-name">configure_roles_on_host</span>(<span class="summary-sig-arg">api</span>,
        <span class="summary-sig-arg">host</span>)</span><br />
      Go through all the roles on this host, and configure them if they 
      match the role types that we care about.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="bulk_config_update-pysrc.html#configure_roles_on_host">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="bulk_config_update-module.html#read_host_file" class="summary-sig-name">read_host_file</a>(<span class="summary-sig-arg">path</span>)</span><br />
      Read the host file.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="bulk_config_update-pysrc.html#read_host_file">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="setup_logging"></a><span class="summary-sig-name">setup_logging</span>(<span class="summary-sig-arg">level</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="bulk_config_update-pysrc.html#setup_logging">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="usage"></a><span class="summary-sig-name">usage</span>()</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="bulk_config_update-pysrc.html#usage">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="main"></a><span class="summary-sig-name">main</span>(<span class="summary-sig-arg">argv</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="bulk_config_update-pysrc.html#main">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== VARIABLES ==================== -->
<a name="section-Variables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Variables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="CM_HOST"></a><span class="summary-name">CM_HOST</span> = <code title="'localhost'">'localhost'</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="CM_USER"></a><span class="summary-name">CM_USER</span> = <code title="'admin'">'admin'</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="CM_PASSWD"></a><span class="summary-name">CM_PASSWD</span> = <code title="'admin'">'admin'</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="bulk_config_update-module.html#HOSTS" class="summary-name">HOSTS</a> = <code title="['foo1.cloudera.com', 'foo2.cloudera.com', 'foo3.cloudera.com',]">['foo1.cloudera.com', 'foo2.cloudera.com', 'foo3.cloud<code class="variable-ellipsis">...</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="bulk_config_update-module.html#DATANODE_CONF" class="summary-name">DATANODE_CONF</a> = <code title="{'dfs_data_dir_list': '/data/1/dfs/dn,/data/2/dfs/dn', 'dfs_datanode_h\
andler_count': 10, 'dfs_datanode_du_reserved': 10737418240, 'dfs_datan\
ode_max_xcievers': 4096, 'datanode_java_heapsize': 2048000000, 'datano\
de_java_opts': ''}">{'dfs_data_dir_list': '/data/1/dfs/dn,/data/2/<code class="variable-ellipsis">...</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="bulk_config_update-module.html#TASKTRACKER_CONF" class="summary-name">TASKTRACKER_CONF</a> = <code title="{'tasktracker_mapred_local_dir_list': '/data/1/mapred/local,/data/2/ma\
pred/local', 'mapred_tasktracker_map_tasks_maximum': 8, 'mapred_tasktr\
acker_reduce_tasks_maximum': 8, 'tasktracker_java_opts': '', 'task_tra\
cker_java_heapsize': 2048000000, 'override_mapred_child_java_opts_max_\
heap': 2048000000, 'override_mapred_child_ulimit': 2048000, 'override_\
io_sort_mb': 100, 'override_io_sort_factor': 50,}">{'tasktracker_mapred_local_dir_list': '/dat<code class="variable-ellipsis">...</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="bulk_config_update-module.html#REGIONSERVER_CONF" class="summary-name">REGIONSERVER_CONF</a> = <code title="{'hbase_hregion_memstore_flush_size': 1024000000, 'hbase_regionserver_\
handler_count': 10, 'hbase_regionserver_java_heapsize': 2048000000, 'h\
base_regionserver_java_opts': '',}">{'hbase_hregion_memstore_flush_size': 1024<code class="variable-ellipsis">...</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="LOG"></a><span class="summary-name">LOG</span> = <code title="logging.getLogger(__name__)">logging.getLogger(__name__)</code>
    </td>
  </tr>
</table>
<!-- ==================== FUNCTION DETAILS ==================== -->
<a name="section-FunctionDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Function Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-FunctionDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="read_host_file"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">read_host_file</span>(<span class="sig-arg">path</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="bulk_config_update-pysrc.html#read_host_file">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Read the host file. Return a list of hostnames.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== VARIABLES DETAILS ==================== -->
<a name="section-VariablesDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Variables Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-VariablesDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="HOSTS"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">HOSTS</h3>
  
  <dl class="fields">
  </dl>
  <dl class="fields">
    <dt>Value:</dt>
      <dd><table><tr><td><pre class="variable">
['foo1.cloudera.com', 'foo2.cloudera.com', 'foo3.cloudera.com',]
</pre></td></tr></table>
</dd>
  </dl>
</td></tr></table>
</div>
<a name="DATANODE_CONF"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">DATANODE_CONF</h3>
  
  <dl class="fields">
  </dl>
  <dl class="fields">
    <dt>Value:</dt>
      <dd><table><tr><td><pre class="variable">
{'dfs_data_dir_list': '/data/1/dfs/dn,/data/2/dfs/dn', 'dfs_datanode_h<span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
andler_count': 10, 'dfs_datanode_du_reserved': 10737418240, 'dfs_datan<span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
ode_max_xcievers': 4096, 'datanode_java_heapsize': 2048000000, 'datano<span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
de_java_opts': ''}
</pre></td></tr></table>
</dd>
  </dl>
</td></tr></table>
</div>
<a name="TASKTRACKER_CONF"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">TASKTRACKER_CONF</h3>
  
  <dl class="fields">
  </dl>
  <dl class="fields">
    <dt>Value:</dt>
      <dd><table><tr><td><pre class="variable">
{'tasktracker_mapred_local_dir_list': '/data/1/mapred/local,/data/2/ma<span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
pred/local', 'mapred_tasktracker_map_tasks_maximum': 8, 'mapred_tasktr<span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
acker_reduce_tasks_maximum': 8, 'tasktracker_java_opts': '', 'task_tra<span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
cker_java_heapsize': 2048000000, 'override_mapred_child_java_opts_max_<span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
heap': 2048000000, 'override_mapred_child_ulimit': 2048000, 'override_<span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
io_sort_mb': 100, 'override_io_sort_factor': 50,}
</pre></td></tr></table>
</dd>
  </dl>
</td></tr></table>
</div>
<a name="REGIONSERVER_CONF"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">REGIONSERVER_CONF</h3>
  
  <dl class="fields">
  </dl>
  <dl class="fields">
    <dt>Value:</dt>
      <dd><table><tr><td><pre class="variable">
{'hbase_hregion_memstore_flush_size': 1024000000, 'hbase_regionserver_<span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
handler_count': 10, 'hbase_regionserver_java_heapsize': 2048000000, 'h<span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
base_regionserver_java_opts': '',}
</pre></td></tr></table>
</dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            >python-cm_api</th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Fri Jun 27 18:10:28 2014
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
